!function(e){function t(t){for(var r,i,c=t[0],s=t[1],u=t[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&d.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(t);d.length;)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={4:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="./";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var l=s;a.push([1010,0]),n()}({1010:function(e,t,n){"use strict";n.r(t);var r=n(10),o=n.n(r),a=n(18),i=n.n(a),c=n(19),s=n.n(c),u=n(17),l=n.n(u),f=n(30),d=n.n(f),p=n(31),g=n.n(p),h=n(20),m=n.n(h),v=(n(854),n(0)),y=n.n(v),w=n(25),b=n.n(w),M=n(143),k=n(12),S=n(16),O=n(27);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var o=m()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g()(this,n)}}var A=function(e){d()(n,e);var t=j(n);function n(e){var r;return i()(this,n),(r=t.call(this,e)).initState={name:"",email:"",emailCode:"",password:""},r.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({registerType:0,emailCodeLoading:!1,timeCount:0},r.initState),r.sendAble=!0,r.resetAble=!0,r.resetPwd=r.resetPwd.bind(l()(r)),r}return s()(n,[{key:"componentDidMount",value:function(){var e=O.a.parseQs().type;this.setState({registerType:1*e})}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.emailCode,o=t.password,a=t.timeCount,i=t.registerType;return y.a.createElement("div",{className:"resetPwd-container"},y.a.createElement("header",null,y.a.createElement("span",{className:"home-icon",onClick:function(){window.location.href="./home.html"}},y.a.createElement("img",{style:{width:"100%"},src:"/webfunny_center/logos/logo.png"}))),y.a.createElement("section",{className:"signup-content"},y.a.createElement("h1",null,"重置密码"),y.a.createElement("div",{className:"register account tab-pane fade in active",id:"signupByPhone"},y.a.createElement("div",{className:"input-set phone"},y.a.createElement("span",{className:"input-title"},"邮箱（登录名）"),y.a.createElement("input",{type:"email",placeholder:"请输入邮箱","data-growing-track":"true",maxLength:50,value:n,onChange:function(t){e.setState({email:t.target.value})}}),y.a.createElement("span",{id:"emessage-mobile",className:"emessage"})),1===i?null:y.a.createElement("div",{className:"input-set phone-verif"},y.a.createElement("span",{className:"input-title"},"邮箱验证码"),y.a.createElement("input",{name:"verifyCode",placeholder:"请输入邮箱验证码",style:{width:165},value:r,onChange:function(t){e.setState({emailCode:t.target.value})}}),y.a.createElement("button",{id:"captcha","data-button-clicked":"true",className:a>0?"captcha captcha-phone captcha-disable":"captcha captcha-phone",type:"button",onClick:this.getEmailCode.bind(this)},a>0?"重新发送(".concat(a,"s)"):"获取验证码"),y.a.createElement("span",{id:"emessage-verifyCode",className:"emessage"})),y.a.createElement("div",{className:"input-set phone"},y.a.createElement("span",{className:"input-title"},"新的登录密码"),y.a.createElement("input",{placeholder:"请输入新密码","data-growing-track":"true",maxLength:30,value:o,onChange:function(t){e.setState({password:t.target.value})}}),y.a.createElement("span",{id:"emessage-pwd",className:"emessage"})),y.a.createElement("button",{className:"active login-btn",onClick:this.resetPwd},"重置密码"))))}},{key:"getEmailCode",value:function(){var e=this,t=this.state.email;if(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(t)){if(this.sendAble){this.sendAble=!1;var n,r,o=120,a=setInterval((function(){0===o&&(clearInterval(a),e.sendAble=!0),e.setState({timeCount:o}),o--}),1e3);n={email:t},r=function(){M.a.success("验证码已经发送，请注意查收"),e.setState({emailCodeLoading:!1})},k.a.postWithoutToken(S.a.sendRegisterEmail,n).then((function(e){r(e.data)})).catch((function(e){console.error(e)}))}}else M.a.error("请输入正确的邮箱地址！")}},{key:"resetPwd",value:function(){var e=this;if(this.resetAble){var t=this.state,n=t.email,r=t.emailCode,o=t.password;if(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(n))if(r)if(o){this.resetAble=!1;var a,i,c,s=O.a.b64EncodeUnicode(o.split("").reverse().join(""));a={email:n,emailCode:r,password:s},i=function(t){0===t.data?(M.a.success("密码重置成功，即将跳转到登录页。",3),setTimeout((function(){window.location.href="./login.html?userEmail="+n+"&password="+o}),5e3)):(M.a.error(y.a.createElement("span",null,t.msg),5),e.resetAble=!0)},c=function(){e.resetAble=!0},k.a.getWithoutToken(S.a.resetPwd,a).then((function(e){i(e)})).catch((function(e){c(),console.error(e)}))}else M.a.error("请输入新密码！");else M.a.error("请输入邮箱验证码！");else M.a.error("请输入正确的邮箱地址！")}}},{key:"registerForAdmin",value:function(){var e=this;if(this.resetAble){var t=this.state,n=t.email,r=t.emailCode,o=t.password;/^[a-zA-Z0-9._-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(n)?o?(this.resetAble=!1,(void 0)({name:"管理员",email:n,emailCode:r,password:o,userType:"admin"},(function(t){0===t.data?(M.a.success("管理员账号设置成功。即将跳转到登录页",3),setTimeout((function(){window.location.href="./login.html?userEmail="+n+"&password="+o}),3e3)):(M.a.error(t.msg),e.resetAble=!0)}))):M.a.error("请输入密码！"):M.a.error("请输入正确的邮箱地址！")}}},{key:"goLogin",value:function(){fetch("http://localhost:3000/api/v1/user/list",(function(){}))}}]),n}(v.Component);b.a.render(y.a.createElement(A,null),document.getElementById("app"))},12:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(10),o=n.n(r),a=n(18),i=n.n(a),c=n(19),s=n.n(c),u=n(143),l=n(27);n(144),n(99);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var d=function(){function t(){i()(this,t)}return s()(t,null,[{key:"get",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isHandleResult:!0,isShowLoading:!0},o="GET";n.webMonitorId||(n.webMonitorId=window.localStorage.chooseWebMonitorId);var a=e+l.a.qs(n),i=Object.assign({},{method:o},this.getHeaders());return t.handleFetchData(a,i,r)}},{key:"getWithoutToken",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isHandleResult:!0,isShowLoading:!0},o="GET";n.webMonitorId||(n.webMonitorId=window.localStorage.chooseWebMonitorId);var a=e+l.a.qs(n),i=Object.assign({},{method:o});return t.handleFetchData(a,i,r)}},{key:"post",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isHandleResult:!0,isShowLoading:!0},o="POST";n.webMonitorId||(n.webMonitorId=window.localStorage.chooseWebMonitorId);var a=JSON.stringify(n),i=Object.assign({},{method:o,body:a},this.getHeaders());return t.handleFetchData(e,i,r)}},{key:"postWithoutToken",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isHandleResult:!0,isShowLoading:!0},o="POST";n.webMonitorId||(n.webMonitorId=window.localStorage.chooseWebMonitorId);var a=JSON.stringify(n),i=Object.assign({},{method:o,body:a});return t.handleFetchData(e,i,r)}},{key:"put",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isHandleResult:!0,isShowLoading:!0},o="PUT";n.webMonitorId=window.localStorage.chooseWebMonitorId;var a=JSON.stringify(n),i=Object.assign({},{method:o,body:a},this.getHeaders());return t.handleFetchData(e,i,r)}},{key:"handleFetchData",value:function(e,n,r){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);a.body&&a.body.length>1024&&(a.body=a.body.substr(0,1024)+"...");var i=r.isShowLoading;if(i&&t.showLoading(),r.isFetched=!1,r.isAbort=!1,r.hasOwnProperty("customHead")){var c=r.customHead;n.headers=Object.assign({},n.headers,c)}var s=new Promise((function(o,a){fetch(e,n).then((function(e){r.isAbort||(i&&t.hideLoading(),r.isFetched=!0,e.json().then((function(n){if(401!==n.code)if(e.ok)o(t.handleResult(n,r));else{var i=n.msg;404===e.status&&(i="您访问的内容走丢了…"),u.a.error(i),a(t.handleResult({fetchStatus:"error",netStatus:e.status},r))}else{var c=window.location.href;window.location.href="./login.html?target="+encodeURIComponent(c)}})).catch((function(n){var o=n.name+" "+n.message;a(t.handleResult({fetchStatus:"error",error:o,netStatus:e.status},r))})))})).catch((function(e){var n=e.name+" "+e.message;r.isAbort||(i&&t.hideLoading(),r.isFetched=!0,!0===r.isHandleResult&&console.error("网络开小差了，稍后再试吧",2),a(t.handleResult({fetchStatus:"error",error:n},r)))}))}));return Promise.race([s,t.fetchTimeout(r)])}},{key:"handleResult",value:function(e,t){if(e.status&&!0===t.isHandleResult){var n=e.msg||e.message||"服务器开小差了，稍后再试吧";console.error("".concat(n,"（").concat(e.status,"）"),2)}return e}},{key:"fetchTimeout",value:function(e){var n=e.isShowLoading;return new Promise((function(r,o){setTimeout((function(){e.isFetched||(e.isAbort=!0,n&&t.hideLoading(),console.error("网络开小差了，稍后再试吧",2),o({fetchStatus:"timeout"}))}),e.timeout||3e5)}))}},{key:"getHeaders",value:function(){var e={"access-token":l.a.getCookie("webfunny_token")||"","webfunny-secret-code":localStorage.webfunnySecretCode||""};return Object.assign({},{},{headers:e})}},{key:"showLoading",value:function(){}},{key:"hideLoading",value:function(){}},{key:"wsGet",value:function(e,t,n,r,o,a){if(window.WebSocket=window.WebSocket||window.MozWebSocket,window.WebSocket){var i=new WebSocket(e);i.onmessage=function(e){n&&n(e)},i.onopen=function(n){console.log(e+" 连接成功"),r&&r(n),t&&t(i)},i.onclose=function(t){o&&o(t),i.close(),i=null,console.log(e+" 断开连接")},i.onerror=function(e){console.log(e),a&&a(e)}}else console.error("错误: 浏览器不支持websocket")}},{key:"ajax",value:function(t,n,r,o,a){var i={url:n,type:t,data:JSON.stringify(r),Accept:"*/*",contentType:"application/json;charset=utf-8",dataType:"json",traditional:!0,timeout:1e4,success:function(e,t,n){if(e.code){var r=e.msg||"服务器开小差了，稍后再试吧";return a&&"function"==typeof a&&a(r),void console.error(r)}try{o(e,n)}catch(e){console.error(e)}},error:function(e,t){var n,r="服务繁忙，稍后再试吧";switch(e.status){case 404:r="您访问的内容走丢了…";break;default:switch(t){case"timeout":r="网络开小差了，稍后再试吧";break;case"abort":r="服务繁忙，休息一下再说吧";break;case"error":r="当前服务繁忙，请稍后再试";break;default:r=(n=e.responseText?JSON.parse(e.responseText):{}).msg||(n.error||{}).message||"服务繁忙，稍后再试吧"}}a&&"function"==typeof a&&a(r),console.error(r)}};e.ajax(i)}},{key:"getApiDataFromCache",value:function(e){return"caches"in window?caches.match(e).then((function(e){return e?e.json():null})):Promise.resolve()}},{key:"getCurrentInfo",value:function(){var e=n(146).verify;localStorage.webfunnySecretCode="webfunny_secret_code";var t=l.a.getCookie("webfunny_token")||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIyNGU0OTgyMC05ZTA4LTExZWItYWI5Ny02NzcwYzZhZjJiMjUiLCJ1c2VyVHlwZSI6InN1cGVyQWRtaW4iLCJlbWFpbE5hbWUiOiJqaWFuZzExMjU3MTJAMTYzLmNvbSIsImlhdCI6MTY0NjgwMTg5NCwiZXhwIjo0NDk4MDAxODk0fQ.BMjBtZUmGxA6FjbEMoxJr5Bi4LYwnkmn29lGT7FMR3s";return e(t,"webfunny-access",(function(e,n){return e&&(console.error("token解析失败：",t),console.error(e)),n}))}},{key:"updateQueryStringParameter",value:function(e,t,n){if(!n&&0!==n)return e;var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+o+t+"="+n}}]),t}()}).call(this,n(137))},147:function(e,t){},148:function(e,t){},149:function(e,t){},150:function(e,t){},151:function(e,t){},152:function(e,t){},153:function(e,t){},154:function(e,t){},155:function(e,t){},156:function(e,t){},157:function(e,t){},159:function(e,t){},16:function(e,t,n){"use strict";var r=n(10),o=n.n(r),a=n(72);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c=n.n(a).a.getApiHost(),s={fixData:c+"/wfManage/fixData",login:c+"/wfManage/login",refreshValidateCode:c+"/wfManage/refreshValidateCode",getValidateCode:c+"/wfManage/getValidateCode",getUserList:c+"/wfManage/getUserList",getUserInfo:c+"/wfManage/getUserInfo",getAllUserInfoForSimple:c+"/wfManage/getAllUserInfoForSimple",getUserListByAdmin:c+"/wfManage/getUserListByAdmin",activeRegisterMember:c+"/wfManage/activeRegisterMember",checkSsoToken:c+"/wfManage/checkSsoToken",resetTeamLeader:c+"/wfManage/resetTeamLeader",deleteRegisterMember:c+"/wfManage/deleteRegisterMember",forGetPwd:c+"/wfManage/forGetPwd",pushInfo:c+"/wfManage/pushInfo",updateInfo:c+"/wfManage/updateInfo",sendRegisterEmail:c+"/wfManage/sendRegisterEmail",getRegisterEmailForSupperAdmin:c+"/wfManage/getRegisterEmailForSupperAdmin",register:c+"/wfManage/register",resetPwd:c+"/wfManage/resetPwd",registerCheck:c+"/wfManage/registerCheck",registerForAdmin:c+"/wfManage/registerForAdmin",userList:c+"/wfManage/user/list",getTeamList:c+"/wfManage/getTeamList",addTeamMember:c+"/wfManage/addTeamMember",getAllTeamList:c+"/wfManage/getAllTeamList",getTeamMembersByWebMonitorId:c+"/wfManage/getTeamMembersByWebMonitorId",createNewTeam:c+"/wfManage/createNewTeam",deleteTeam:c+"/wfManage/deleteTeam",moveProToTeam:c+"/wfManage/moveProToTeam",updateTeamProjects:c+"/wfManage/updateTeamProjects",setAdmin:c+"/wfManage/setAdmin",resetSuperAdmin:c+"/wfManage/resetSuperAdmin",getSysInfo:c+"/wfManage/hasSuperAdminAccount",updateSysConfigInfo:c+"/wfManage/updateSysConfigInfo",getSysConfigInfo:c+"/wfManage/getSysConfigInfo"};t.a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s)},160:function(e,t){},161:function(e,t){},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(66),o=n.n(r),a=n(18),i=n.n(a),c=n(19),s=n.n(c),u=n(10),l=n.n(u);function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(){function e(){i()(this,e)}return s()(e,null,[{key:"isArray",value:function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{key:"isObject",value:function(e){return"[object Object]"===Object.prototype.toString.call(e)}},{key:"randomNumber",value:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{key:"b64EncodeUnicode",value:function(e){var t=encodeURIComponent(e);return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}},{key:"b64DecodeUnicodeForHttpLog",value:function(e){try{return decodeURIComponent(decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return e}}},{key:"b64DecodeUnicode",value:function(e){try{return decodeURIComponent(decodeURIComponent(atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return e}}},{key:"b64DecodeUnicodeWithSpace",value:function(e){if(!e)return"";var t="";try{return t=e.replace(/ /g,"+"),decodeURIComponent(decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(e){return t}}},{key:"b64DecodeUnicodeBehavior",value:function(e){if(!e)return"";var t=e.replace(/ /g,"+");try{return decodeURIComponent(decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")))}catch(t){return e}}},{key:"qs",value:function(t,n){var r=[];return function t(n,a){var i=function(o){if(!n.hasOwnProperty(o))return{v:void 0};var i=n[o];e.isArray(i)?i.forEach((function(e){r.push(encodeURIComponent((a?a+".":"")+o+"[]")+"="+encodeURIComponent(e||""))})):e.isObject(i)?t(i,a?a+"."+o:o):r.push(encodeURIComponent((a?a+".":"")+o)+"="+encodeURIComponent(i||""))};for(var c in n){var s=i(c);if("object"===o()(s))return s.v}}(t,""),n&&!t._&&r.push("_="+encodeURIComponent(BUILD_NO)),r.length?"?"+r.join("&"):""}},{key:"parseQs",value:function(){var e=window.location.search,t=e.indexOf("?"),n={};return-1===t||e.substr(t+1).split("&").forEach((function(e){var t=e.split("="),r=decodeURIComponent(t[0]),o=decodeURIComponent(t[1]||""),a=0,i=r.split("."),c=i.length;r=i[c-1];var s=n;if(c>1)for(;a<c-1;a++)s[i[a]]&&CommonTool.isObject(s[i[a]])||(s[i[a]]={}),s=s[i[a]];"[]"!==r.substr(-2)?s[r]=o:s[r=r.substr(0,r.length-2)]?s[r].push(o):s[r]=[o]})),n}},{key:"quickSort",value:function(t){if(t.length<=1)return t;for(var n=Math.floor(t.length/2),r=t.splice(n,1)[0],o=[],a=[],i=0;i<t.length;i++)t[i]<=r?o.push(t[i]):a.push(t[i]);return e.quickSort(o).concat([r],e.quickSort(a))}},{key:"showLoading",value:function(){}},{key:"get24HoursArray",value:function(){for(var e=(new Date).getTime(),t=[],n=0;n<24;n++){var r=new Date(e-60*n*60*1e3).Format("MM-dd hh");t.push(r)}return t}},{key:"getHoursArrayByTimeSize",value:function(t){if(0===t){for(var n=(new Date).getTime()-t*e.DAY_TIME,r=[],o=0;o<=24;o++){var a=n-o*e.HOUR_TIME,i=new Date(a).Format("MM-dd hh");r.push(i)}return r}for(var c=(new Date).getTime()-t*e.DAY_TIME,s=new Date(c).Format("MM-dd"),u=[],l=0;l<24;l++){var f=s+" "+(l<10?"0"+l:l);u.push(f)}return u.reverse()}},{key:"getSevenDaysAgoHoursArrayByTimeSize",value:function(t){if(0===t){for(var n=(new Date).getTime()-(7+t)*e.DAY_TIME,r=[],o=0;o<=24;o++){var a=n-o*e.HOUR_TIME,i=new Date(a).Format("MM-dd hh");r.push(i)}return r}for(var c=(new Date).getTime()-(7+t)*e.DAY_TIME,s=new Date(c).Format("MM-dd"),u=[],l=0;l<24;l++){var f=s+" "+(l<10?"0"+l:l);u.push(f)}return u.reverse()}},{key:"getSevenDaysAgo24HoursArray",value:function(){for(var e=(new Date).getTime()-6048e5,t=[],n=0;n<24;n++){var r=new Date(e-60*n*60*1e3).Format("MM-dd hh");t.push(r)}return t}},{key:"analysisInfoData",value:function(e,t){for(var n=[],r=[],o=0,a=0;a<t.length-1;a++){for(var i=!1,c=0;c<e.length;c++)if(e[c].hour===t[a]){var s=t[a],u=e[c].count;n.push(s),r.push(u),o+=parseInt(e[c].count,10),i=!0;break}!1===i&&(n.push(t[a]),r.push(0))}return{infoTotalCount:o,dateArray:n,infoArray:r,usefulArray:e.filter((function(e){return e.count>0}))}}},{key:"loadJs",value:function(e,t){var n=document.createElement("script");n.async=1,n.onload="function"==typeof t?t:function(){},n.src=e;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)}},{key:"deepCopy",value:function(e){if(e instanceof Array){for(var t=[],n=0;n<e.length;++n)t[n]=this.deepCopy(e[n]);return t}if(e instanceof Object){var r={};for(var o in e)r[o]=this.deepCopy(e[o]);return r}return e}},{key:"addDays",value:function(e){var t="",n=new Date,r=new Date(n.getTime()+24*e*60*60*1e3),o=r.getFullYear(),a=r.getMonth()+1,i=r.getDate();return t=o+"-",t=a>=10?t+a+"-":t+"0"+a+"-",i>=10?t+=i:t=t+"0"+i,t}},{key:"addMomentDate",value:function(e){var t=new Date,n=new Date(t.getTime()+24*e*60*60*1e3);return[n.getFullYear(),n.getMonth(),n.getDate()]}},{key:"toFixed",value:function(e,t){var n=e,r=Math.pow(10,t);if(n<0)return n=Math.abs(n),-(parseInt(n*r+.5,10)/r);var o=parseInt(n*r+.5,10)/r,a=o,i=o+"";if(-1!==i.indexOf(".")){var c=i.split(".")[0],s=i.split(".")[1];s.length>t&&(s=s.substring(0,2)),a=c+"."+s}return 1*a}},{key:"getCookie",value:function(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return document.cookie.match(n)?(t=document.cookie.match(n),unescape(t[2])):""}},{key:"setCookie",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:864e5,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:window.location.hostname,o=new Date;o.setTime(o.getTime()+n),document.cookie=e+"="+t+";Path=/;domain="+r+";expires="+o.toGMTString()}},{key:"removeDuplicateForString",value:function(e){var t=e.split(""),n=new Set(t);return Array.from(n).join("")}},{key:"quickSortForObject",value:function(t,n,r,o){if(!(r>o)){for(var a=t[r][n],i=t[r],c=r,s=o;c!==s;){for(;t[s][n]>=a&&s>c;)s--;for(;t[c][n]<=a&&s>c;)c++;if(s>c){var u=t[c];t[c]=t[s],t[s]=u}}t[r]=t[c],t[c]=i,e.quickSortForObject(t,n,r,c-1),e.quickSortForObject(t,n,c+1,o)}}},{key:"handleTimeScope",value:function(e){return Math.floor(((new Date).getTime()-new Date(e+" 00:00:00").getTime())/864e5)}},{key:"calcTimeForZh",value:function(e){var t=(new Date).getTime()-e;return t<6e4?"刚刚":t<36e5?"".concat(Math.floor(t/6e4),"分钟前"):t<864e5?"".concat(Math.floor(t/36e5),"小时前"):"".concat(Math.floor(t/864e5),"天前")}},{key:"ajax",value:function(e,t,n,r,o){try{var a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");a.open(e,t,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){if(4===a.readyState){var e={};try{e=a.responseText?JSON.parse(a.responseText):{}}catch(t){console.error(a.responseText),e={}}"function"==typeof r&&r(e)}else"function"==typeof o&&o()},a.onerror=function(){"function"==typeof o&&o()};var i=JSON.stringify(n||{});a.send("data="+i)}catch(e){console.warn(e)}}},{key:"handleTreeData",value:function(t){var n=[];for(var r in t){var a={};if(a.title=r,a.key=r,"object"===o()(t[r]))a.children=e.handleTreeData(t[r]);else if("string"==typeof t[r])a.children=[{title:'"'.concat(t[r],'"'),key:'"'.concat(t[r],'"')}];else if("number"==typeof t[r])a.children=[{title:t[r],key:t[r]}];else if("boolean"==typeof t[r]){var i={};switch(t[r]){case!0:i.title="true",i.key="true";break;case!1:i.title="false",i.key="false"}a.children=[i]}n.push(a)}return n}},{key:"encodeURIFunc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href,t={},n=e.indexOf("?"),r=e.substr(n+1);if(-1!==n){var o,a=r.split("&"),i=f(a);try{for(i.s();!(o=i.n()).done;){var c=o.value,s=c.split("=");t[s[0]]=s[1]}}catch(e){i.e(e)}finally{i.f()}}return t}},{key:"formatTime",value:function(e,t){var n=new Date(e),r=function(e){return(e<10?"0":"")+e};return t.replace(/yyyy|MM|M|dd|d|HH|mm|ss/g,(function(e){switch(e){case"yyyy":return r(n.getFullYear());case"MM":return r(n.getMonth()+1);case"M":return n.getMonth()+1;case"mm":return r(n.getMinutes());case"dd":return r(n.getDate());case"d":return n.getDate();case"HH":return r(n.getHours());case"ss":return r(n.getSeconds());default:return""}}))}},{key:"updateQueryStringParameter",value:function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),o=-1!==e.indexOf("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+o+t+"="+n}},{key:"copyContent",value:function(e){var t=document.createElement("input");document.body.appendChild(t),t.setAttribute("value",e),t.select(),document.execCommand("copy")&&document.execCommand("copy"),document.body.removeChild(t)}}]),e}();l()(p,"DAY_TIME",864e5),l()(p,"HOUR_TIME",36e5),l()(p,"handleTime",(function(e,t){var n=1*e,r="";return n<=0?{value:n,unit:""}:("time"===t?(r=n<1e3?"ms":"s",n=n>1e3?p.toFixed(n/1e3,2):p.toFixed(n,2)):"count"===t?n>1e4?(r="万",n=p.toFixed(n/1e4,2)):n>1e3&&(r="千",n=p.toFixed(n/1e3,2)):"percent"===t&&(r="%"),{value:n,unit:r})}))},72:function(e,t){var n={apiServerUrl:"default_api_server_url"};e.exports={getApiHost:function(){return n.apiServerUrl}}},854:function(e,t,n){},99:function(e,t){if(String.prototype.format||(String.prototype.format=function(){var e=this,t=Array.prototype.slice.call(arguments);return e.replace(/(\{(\d+)\})/g,(function(e,n,r){return void 0===t[r]?e:t[r]}))}),!String.prototype.trim){var n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(n,"")}}Date.prototype.Format||(Date.prototype.Format=function(e){var t=e,n={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t}),Number.prototype.toFixed=function(e){var t=Math.pow(10,e),n=this*t+.5;return(n=parseInt(n,10)/t)+""}}});